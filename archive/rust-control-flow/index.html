<!doctype html>
<html data-n-head-ssr>
  <head>
    <meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="desc" name="desc" content=""><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="adam.harpur.io"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://adam.harpur.io"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="~/assets/logo.png"><title>oversight</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/3a443e6.js" as="script"><link rel="preload" href="/_nuxt/50c21c5.js" as="script"><link rel="preload" href="/_nuxt/3bdbf44.js" as="script"><link rel="preload" href="/_nuxt/ad1f451.js" as="script"><link rel="preload" href="/_nuxt/f0d6305.js" as="script"><style data-vue-ssr-id="65b97e00:0 5925bf4b:0 46f23c9d:0 07e174e8:0 8113ad12:0 311641f2:0 6bb53542:0 3a202121:0">/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}.fixed{position:fixed}.absolute{position:absolute}.z-10{z-index:10}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-5{margin-bottom:1.25rem;margin-top:1.25rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-5{margin-bottom:1.25rem}.ml-5{margin-left:1.25rem}.ml-auto{margin-left:auto}.mr-5{margin-right:1.25rem}.mt-1{margin-top:.25rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.flex{display:flex}.hidden{display:none}.min-h-screen{min-height:100vh}.w-full{width:100%}.w-screen{width:100vw}.max-w-full{max-width:100%}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:.5rem;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(.5rem*var(--tw-space-x-reverse))}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.border{border-width:1px}.bg-secondary{--tw-bg-opacity:1;background-color:#2c3e50;background-color:rgba(44,62,80,var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.p-10{padding:2.5rem}.p-2{padding:.5rem}.p-5{padding:1.25rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.pb-10{padding-bottom:2.5rem}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}.text-xl{font-size:1.25rem;line-height:1.75rem}.italic{font-style:italic}.text-white{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:0 0 transparent,0 0 transparent,var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) grayscale(100%) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter,.grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\:bg-secondary:hover{--tw-bg-opacity:1;background-color:#2c3e50;background-color:rgba(44,62,80,var(--tw-bg-opacity))}.hover\:text-white:hover{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.focus\:bg-gray-600:focus{--tw-bg-opacity:1;background-color:#4b5563;background-color:rgba(75,85,99,var(--tw-bg-opacity))}.focus\:text-white:focus{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width:640px){.sm\:flex-row{flex-direction:row}}@media (min-width:768px){.md\:w-full{width:100%}}@media (min-width:1024px){.lg\:w-3\/5{width:60%}.lg\:w-full{width:100%}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:#263238;color:#c3cee3;font-family:Roboto Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#363636}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#363636}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#363636}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1.25em 1em;position:relative}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#c3e88d}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name,.token.color{color:#f2ff00}.token.comment{color:#546e7a}.token.constant{color:#c792ea}.token.deleted{color:#f07178}.token.doctype{color:#546e7a}.token.entity{color:#f07178}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea;font-style:italic}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#546e7a}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#c3e88d}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f07178}.token.string{color:#c3e88d}.token.symbol{color:#c792ea}.token.tag,.token.unit{color:#f07178}.token.url{color:#fd9170}.token.variable{color:#f07178}.nuxt-progress{background-color:#000;height:2px;left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,opacity .4s;width:0;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box;font-size:16px;word-spacing:1px}*,:after,:before{box-sizing:border-box;margin:0}main.content-wrapper{background:url(/_nuxt/img/bg.7c2eac8.png)}.content{border:4px double grey}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.navbar{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;padding:.75rem 1.25rem}@media screen and (min-width:600px){.navbar{align-items:center;display:flex;justify-content:space-between}}.navbar-item{border-bottom:2px solid #ccc;font-size:1.25rem;font-style:italic;font-weight:600;margin-right:1.25rem}.navbar-item:last-child{margin-right:0}.navbar-item:hover{border-bottom:2px solid #551ab8}.navbar-item-wrapper{text-align:center}.navbar-logo{align-items:center;display:flex;font-size:1.3rem;font-weight:600;margin-bottom:.75rem;margin-left:auto;margin-right:auto}@media screen and (min-width:600px){.navbar-logo{margin-bottom:0}}.navbar-logo-image{display:inline-block;margin-right:.75rem;width:36px}.current-navbar-item{border-bottom:2px solid #551ab8}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.footer{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;line-height:1.75rem;margin-top:3rem;padding:2rem;text-align:center}.brand-logo{animation:appear 1s;width:32px}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.social-media-item{align-items:center;display:flex;flex-direction:column;height:30px;justify-content:center;margin-bottom:.75rem;margin-right:1rem;width:30px}.social-media-label{clip:rect(0,0,0,0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.nuxt-content_dSLcB strong{font-style:italic}.nuxt-content_dSLcB blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content_dSLcB a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content_dSLcB a[target=_blank]:after{content:"↑"}.nuxt-content_dSLcB h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content_dSLcB h3{font-size:1.25rem}.nuxt-content_dSLcB h3,.nuxt-content_dSLcB h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content_dSLcB h4{font-size:1.125rem}.nuxt-content_dSLcB li,.nuxt-content_dSLcB p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content_dSLcB li,.nuxt-content_dSLcB p{font-size:18px}}.nuxt-content_dSLcB p{margin-bottom:1rem}.nuxt-content_dSLcB ul{list-style:circle;margin-left:1em}.nuxt-content_dSLcB ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title_d6rol{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle_M7uZF,.title_d6rol{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle_M7uZF{font-size:1.5rem;line-height:2rem}.tag_\+EbIf{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.small_4DY8U{display:inline-block;width:30px}</style><link rel="preload" href="/_nuxt/static/1696605476/archive/rust-control-flow/state.js" as="script"><link rel="preload" href="/_nuxt/static/1696605476/archive/rust-control-flow/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1696605476/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="flex flex-col min-h-screen max-width-full"><nav class="navbar"><div class="flex items-center"><a href="/" class="navbar-logo nuxt-link-active"><img src="/_nuxt/img/logo.176e8a4.png" alt="site logo" class="navbar-logo-image"></a></div> <div class="navbar-item-wrapper"><span class="mr-5"><a href="/blog" class="navbar-item">blog</a> <!----></span><span class="mr-5"><a href="/notes" class="navbar-item">notes</a> <!----></span><span class="mr-5"><a href="/archive" class="navbar-item nuxt-link-active">archive</a> <!----></span></div></nav> <hr> <main class="content-wrapper flex justify-center"><div class="my-5 content bg-white lg:w-3/5 md:w-full max-width-full" data-v-e2e0216e><main class="bg-white py-5 px-8 w-screen lg:w-full" data-v-e2e0216e><article><p class="my-5">27 December 2020, 06:11</p> <h1 class="title">control flow in rust</h1> <hr> <div class="p-2 nuxt-content"><p>Deciding what piece of code to run based on a whether a condition is met or not is the essence of control flow in code. The most common of which in most languages (including Rust) are <code>if</code> expressions and <code>loops</code>.</p>
<h3 id="if-expressions"><a aria-hidden="true" href="#if-expressions" tabindex="-1"><span class="icon icon-link"></span></a>if Expressions</h3>
<p>An <code>if</code> expression allows you to branch your code depending on conditions. You provide a condition and then state, “If this condition is met, run this block of code. If the condition is not met, do not run this block of code.”</p>
<p><code>src/main.rs</code></p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> number <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"condition was true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"condition was false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The above snippet is pretty self explanatory, if the number is less than <code>5</code> it prints "condition was true" and if the number is greater than 5 it "condition was false".</p>
<p>Optionally, we can also include an <code>else</code> expression, which we chose to do here, to give the program an alternative block of code to execute should the condition evaluate to false. If you don’t provide an else expression and the condition is false, the program will just skip the if block and move on to the next bit of code.</p>
<p>Note that the expression being checked in the <code>if</code> expression must be of type <code>bool</code>. Rust will not automatically try to convert non-Boolean types to a Boolean.</p>
<h3 id="handling-multiple-conditions-with-else-if"><a aria-hidden="true" href="#handling-multiple-conditions-with-else-if" tabindex="-1"><span class="icon icon-link"></span></a>Handling Multiple Conditions with else if</h3>
<p>You can have multiple conditions by combining <code>if</code> and <code>else</code> in an <code>else if</code> expression. For example:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> number <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"number is divisible by 4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> number <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"number is divisible by 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> number <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"number is divisible by 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"number is not divisible by 4, 3, or 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h3 id="using-if-in-a-let-statement"><a aria-hidden="true" href="#using-if-in-a-let-statement" tabindex="-1"><span class="icon icon-link"></span></a>Using if in a let Statement</h3>
<p>Because if is an expression, we can use it on the right side of a <code>let</code> statement.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> condition <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token keyword">if</span> condition <span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of number is: {}"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The value options provided in the <code>if</code> expression must be of the same type, or the compiler will throw an error. Rust needs to know at compile time what type the number variable is and cannot do that if the value of <code>number</code> is determined at runtime.</p>
<h3 id="repetition-with-loops"><a aria-hidden="true" href="#repetition-with-loops" tabindex="-1"><span class="icon icon-link"></span></a>Repetition with Loops</h3>
<p>It’s often useful to execute a block of code more than once. For this task, Rust provides several loops. A loop runs through the code inside the loop body to the end and then starts immediately back at the beginning.</p>
<p>Rust has three kinds of loops: <code>loop</code>, <code>while</code>, and <code>for</code>.</p>
<h4 id="repeating-code-with-loop"><a aria-hidden="true" href="#repeating-code-with-loop" tabindex="-1"><span class="icon icon-link"></span></a>Repeating Code with loop</h4>
<p>The <code>loop</code> keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">loop</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"again!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>When we run this program, we’ll see <code>again!</code> printed over and over continuously until we stop the program manually (using <code>ctrl-c</code> to interrupt at the terminal).</p>
<p>Fortunately, Rust provides another, more reliable way to break out of a loop. You can place the <code>break</code> keyword within the loop to tell the program when to stop executing the loop.</p>
<h3 id="returning-values-from-loops"><a aria-hidden="true" href="#returning-values-from-loops" tabindex="-1"><span class="icon icon-link"></span></a>Returning Values from Loops</h3>
<p>It’s often useful for a program to evaluate a condition within a loop. While the condition is true, the loop runs. When the condition ceases to be true, the program calls <code>break</code>, stopping the loop.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">loop</span> <span class="token punctuation">{</span>
        counter <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> counter <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span> counter <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The result is {}"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Before the loop, we declare a variable named counter and initialize it to <code>0</code>. Then we declare a variable named <code>result</code> to hold the value returned from the loop. On every iteration of the loop, we add <code>1</code> to the counter variable, and then check whether the counter is equal to <code>10</code>. When it is, we use the break keyword with the value <code>counter * 2</code>. After the loop, we use a semicolon to end the statement that assigns the value to result. Finally, we print the value in <code>result</code>, which in this case is 20.</p>
<h3 id="conditional-loops-with-while"><a aria-hidden="true" href="#conditional-loops-with-while" tabindex="-1"><span class="icon icon-link"></span></a>Conditional Loops with while</h3>
<p>It’s often useful for a program to evaluate a condition within a loop. While the condition is true, the loop runs. When the condition ceases to be true, the program calls <code>break</code>, stopping the loop. This loop type could be implemented using a combination of <code>loop</code>, <code>if</code>, <code>else</code>, and <code>break</code>.</p>
<p>However, this pattern is so common that Rust has a built-in language construct for it, called a <code>while</code> loop.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> number <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> number <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}!"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>

        number <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"LIFT OFF!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token number">3</span><span class="token operator">!</span>
<span class="token number">2</span><span class="token operator">!</span>
<span class="token number">1</span><span class="token operator">!</span>
LIFT OFF<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</code></pre></div>
<p>This construct eliminates a lot of nesting that would be necessary if you used <code>loop</code>, <code>if</code>, <code>else</code>, and <code>break</code>, and it’s clearer. While a condition holds true, the code runs; otherwise, it exits the loop.</p>
<h3 id="looping-through-a-collection-with-for"><a aria-hidden="true" href="#looping-through-a-collection-with-for" tabindex="-1"><span class="icon icon-link"></span></a>Looping Through a Collection with for</h3>
<p>You could use the <code>while</code> construct to loop over the elements of a collection, such as an array.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> index <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"the value is: {}"</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        index <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<p>Here, the code counts up through the elements in the array. It starts at index <code>0</code>, and then loops until it reaches the final index in the array (that is, when <code>index &lt; 5</code> is no longer true).</p>
<p>This approach is error prone; we could cause the program to panic if the index length is incorrect. It’s also slow, because the compiler adds runtime code to perform the conditional check on every element on every iteration through the loop.</p>
<p>As a more concise alternative, you can use a <code>for</code> loop and execute some code for each item in a collection.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> element <span class="token keyword">in</span> a<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"the value is: {}"</span><span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The safety and conciseness of for loops make them the most commonly used loop construct in Rust. Even in situations in which you want to run some code a certain number of times, as in the countdown example that used a while loop.</p>
<p>Here’s what the countdown would look like using a <code>for</code> loop and <code>rev</code>, to reverse the range:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> number <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rev</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}!"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"LIFT OFF!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code><span class="token number">3</span><span class="token operator">!</span>
<span class="token number">2</span><span class="token operator">!</span>
<span class="token number">1</span><span class="token operator">!</span>
LIFT OFF<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>
</code></pre></div></div></article></main> <section class="mb-5 flex flex-col sm:flex-row" data-v-64af341a data-v-e2e0216e><hr data-v-64af341a> <a href="/archive/rust-ownership" class="p-5 navbar-item" data-v-64af341a><span class="text-xl" data-v-64af341a>← ownership in rust </span></a> <hr data-v-64af341a> <a href="/archive/rust-functions" class="ml-auto p-5 navbar-item" data-v-64af341a><span class="text-xl" data-v-64af341a>functions in rust →</span></a></section></div></main> <hr> <footer class="footer"><ul class="flex justify-center"><li><a href="https://www.twitter.com/admhpr" class="social-media-item"><img src="/_nuxt/img/twitter.c2fdf95.png" alt="twitter icon" class="small_4DY8U"> <span class="social-media-label">Twitter</span></a></li><li><a href="https://www.github.com/admhpr" class="social-media-item"><img src="/_nuxt/img/github.27f8837.png" alt="github icon" class="small_4DY8U"> <span class="social-media-label">GitHub</span></a></li></ul> <div class="flex justify-center">adam harpur 2023 ©</div> <div class="flex justify-center"><a href="https://www.nuxtjs.org"><img src="/_nuxt/img/nuxt-logo.33a988a.jpg" alt="nuxt logo" class="pb-10 brand-logo"></a> <a href="https://tailwindcss.com"><img src="/_nuxt/img/tailwind-logo.a175096.png" alt="tailwind logo" class="pb-10 brand-logo"></a></div></footer></div></div></div><script defer src="/_nuxt/static/1696605476/archive/rust-control-flow/state.js"></script><script src="/_nuxt/3a443e6.js" defer></script><script src="/_nuxt/f0d6305.js" defer></script><script src="/_nuxt/50c21c5.js" defer></script><script src="/_nuxt/3bdbf44.js" defer></script><script src="/_nuxt/ad1f451.js" defer></script>
  </body>
</html>
