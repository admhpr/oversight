<!doctype html>
<html data-n-head-ssr>
  <head>
    <meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="desc" name="desc" content=""><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="adam.harpur.io"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://adam.harpur.io"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="~/assets/logo.png"><title>oversight</title><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/ece46b5.js" as="script"><link rel="preload" href="/_nuxt/50c21c5.js" as="script"><link rel="preload" href="/_nuxt/1fe8aec.js" as="script"><link rel="preload" href="/_nuxt/ad1f451.js" as="script"><link rel="preload" href="/_nuxt/f0d6305.js" as="script"><style data-vue-ssr-id="65b97e00:0 5925bf4b:0 46f23c9d:0 07e174e8:0 8113ad12:0 311641f2:0 6bb53542:0 3a202121:0">/*! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent}.fixed{position:fixed}.absolute{position:absolute}.z-10{z-index:10}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-5{margin-bottom:1.25rem;margin-top:1.25rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-5{margin-bottom:1.25rem}.ml-5{margin-left:1.25rem}.ml-auto{margin-left:auto}.mr-5{margin-right:1.25rem}.mt-1{margin-top:.25rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.flex{display:flex}.hidden{display:none}.min-h-screen{min-height:100vh}.w-full{width:100%}.w-screen{width:100vw}.max-w-full{max-width:100%}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:.5rem;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(.5rem*var(--tw-space-x-reverse))}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.border{border-width:1px}.bg-gray-500{--tw-bg-opacity:1;background-color:#6b7280;background-color:rgba(107,114,128,var(--tw-bg-opacity))}.bg-secondary{--tw-bg-opacity:1;background-color:#2c3e50;background-color:rgba(44,62,80,var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.p-10{padding:2.5rem}.p-2{padding:.5rem}.p-5{padding:1.25rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.pb-10{padding-bottom:2.5rem}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}.text-xl{font-size:1.25rem;line-height:1.75rem}.italic{font-style:italic}.text-gray-100{--tw-text-opacity:1;color:#f3f4f6;color:rgba(243,244,246,var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);box-shadow:0 0 transparent,0 0 transparent,var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) grayscale(100%) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter,.grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\:bg-secondary:hover{--tw-bg-opacity:1;background-color:#2c3e50;background-color:rgba(44,62,80,var(--tw-bg-opacity))}.hover\:text-white:hover{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.focus\:bg-gray-600:focus{--tw-bg-opacity:1;background-color:#4b5563;background-color:rgba(75,85,99,var(--tw-bg-opacity))}.focus\:text-white:focus{--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}@media (min-width:640px){.sm\:flex-row{flex-direction:row}}@media (min-width:768px){.md\:w-full{width:100%}}@media (min-width:1024px){.lg\:w-3\/5{width:60%}.lg\:w-full{width:100%}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:#263238;color:#c3cee3;font-family:Roboto Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#363636}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#363636}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#363636}:not(pre)>code[class*=language-]{border-radius:.2em;padding:.1em;white-space:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1.25em 1em;position:relative}.language-css>code,.language-sass>code,.language-scss>code{color:#fd9170}[class*=language-] .namespace{opacity:.7}.token.atrule{color:#c792ea}.token.attr-name{color:#ffcb6b}.token.attr-value,.token.attribute{color:#c3e88d}.token.boolean{color:#c792ea}.token.builtin{color:#ffcb6b}.token.cdata,.token.char{color:#80cbc4}.token.class{color:#ffcb6b}.token.class-name,.token.color{color:#f2ff00}.token.comment{color:#546e7a}.token.constant{color:#c792ea}.token.deleted{color:#f07178}.token.doctype{color:#546e7a}.token.entity{color:#f07178}.token.function{color:#c792ea}.token.hexcode{color:#f2ff00}.token.id,.token.important{color:#c792ea;font-weight:700}.token.inserted{color:#80cbc4}.token.keyword{color:#c792ea;font-style:italic}.token.number{color:#fd9170}.token.operator{color:#89ddff}.token.prolog{color:#546e7a}.token.property{color:#80cbc4}.token.pseudo-class,.token.pseudo-element{color:#c3e88d}.token.punctuation{color:#89ddff}.token.regex{color:#f2ff00}.token.selector{color:#f07178}.token.string{color:#c3e88d}.token.symbol{color:#c792ea}.token.tag,.token.unit{color:#f07178}.token.url{color:#fd9170}.token.variable{color:#f07178}.nuxt-progress{background-color:#000;height:2px;left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,opacity .4s;width:0;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box;font-size:16px;word-spacing:1px}*,:after,:before{box-sizing:border-box;margin:0}main.content-wrapper{background:url(/_nuxt/img/bg.7c2eac8.png)}.content{border:4px double grey}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.navbar{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;padding:.75rem 1.25rem}@media screen and (min-width:600px){.navbar{align-items:center;display:flex;justify-content:space-between}}.navbar-item{border-bottom:2px solid #ccc;font-size:1.25rem;font-style:italic;font-weight:600;margin-right:1.25rem}.navbar-item:last-child{margin-right:0}.navbar-item:hover{border-bottom:2px solid #551ab8}.navbar-item-wrapper{text-align:center}.navbar-logo{align-items:center;display:flex;font-size:1.3rem;font-weight:600;margin-bottom:.75rem;margin-left:auto;margin-right:auto}@media screen and (min-width:600px){.navbar-logo{margin-bottom:0}}.navbar-logo-image{display:inline-block;margin-right:.75rem;width:36px}.current-navbar-item{border-bottom:2px solid #551ab8}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.footer{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;line-height:1.75rem;margin-top:3rem;padding:2rem;text-align:center}.brand-logo{animation:appear 1s;width:32px}.nuxt-content strong{font-style:italic}.nuxt-content blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content a[target=_blank]:after{content:"↑"}.nuxt-content h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h3{font-size:1.25rem}.nuxt-content h3,.nuxt-content h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content h4{font-size:1.125rem}.nuxt-content li,.nuxt-content p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content li,.nuxt-content p{font-size:18px}}.nuxt-content p{margin-bottom:1rem}.nuxt-content ul{list-style:circle;margin-left:1em}.nuxt-content ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle,.title{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle{font-size:1.5rem;line-height:2rem}.tag{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.social-media-item{align-items:center;display:flex;flex-direction:column;height:30px;justify-content:center;margin-bottom:.75rem;margin-right:1rem;width:30px}.social-media-label{clip:rect(0,0,0,0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.nuxt-content_dSLcB strong{font-style:italic}.nuxt-content_dSLcB blockquote{border-left:2px solid #551ab8;font-style:italic;margin-left:.75rem;padding-left:.75rem;padding-right:.75rem}.nuxt-content_dSLcB a{color:#551ab8;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem;text-decoration-line:underline}.nuxt-content_dSLcB a[target=_blank]:after{content:"↑"}.nuxt-content_dSLcB h2{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.5rem;font-weight:700;line-height:2rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content_dSLcB h3{font-size:1.25rem}.nuxt-content_dSLcB h3,.nuxt-content_dSLcB h4{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:700;line-height:1.75rem;line-height:1.3;margin-bottom:1.25rem;margin-top:1.25rem;padding-bottom:.75rem}.nuxt-content_dSLcB h4{font-size:1.125rem}.nuxt-content_dSLcB li,.nuxt-content_dSLcB p{font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.7}@media screen and (min-width:600px){.nuxt-content_dSLcB li,.nuxt-content_dSLcB p{font-size:18px}}.nuxt-content_dSLcB p{margin-bottom:1rem}.nuxt-content_dSLcB ul{list-style:circle;margin-left:1em}.nuxt-content_dSLcB ol{list-style-position:inside;list-style-type:decimal;margin-bottom:1rem}body{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.title_d6rol{font-size:1.875rem;font-style:italic;line-height:2.25rem}.subtitle_M7uZF,.title_d6rol{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-weight:600;letter-spacing:1px}.subtitle_M7uZF{font-size:1.5rem;line-height:2rem}.tag_\+EbIf{color:#2c3e50;font-family:Poppins,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:1.125rem;font-weight:600;letter-spacing:1px;line-height:1.75rem}p>code{background-color:#efefef;color:#324859;font-style:italic;font-weight:400;padding:2px}.small_4DY8U{display:inline-block;width:30px}</style><link rel="preload" href="/_nuxt/static/1696605233/archive/rust-variables-and-mutability/state.js" as="script"><link rel="preload" href="/_nuxt/static/1696605233/archive/rust-variables-and-mutability/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1696605233/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="flex flex-col min-h-screen max-width-full"><nav class="navbar"><div class="flex items-center"><a href="/" class="navbar-logo nuxt-link-active"><img src="/_nuxt/img/logo.176e8a4.png" alt="site logo" class="navbar-logo-image"></a></div> <div class="navbar-item-wrapper"><span class="mr-5"><a href="/blog" class="navbar-item">blog</a> <!----></span><span class="mr-5"><a href="/notes" class="navbar-item">notes</a> <!----></span><span class="mr-5"><a href="/archive" class="navbar-item nuxt-link-active">archive</a> <!----></span></div></nav> <hr> <main class="content-wrapper flex justify-center"><div class="my-5 content bg-white lg:w-3/5 md:w-full max-width-full" data-v-e2e0216e><main class="bg-white py-5 px-8 w-screen lg:w-full" data-v-e2e0216e><article><p class="my-5">11 December 2020, 11:02</p> <h1 class="title">variables and mutability in rust</h1> <hr> <div class="p-2 nuxt-content"><h2 id="first-steps"><a href="#first-steps" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>First Steps</h2>
<p>Variables in rust are <a href="https://www.dictionary.com/browse/immutable" rel="nofollow noopener noreferrer" target="_blank">immutable</a> by default. a helpful hint by the language to write code that is easy to follow and avoid any unwanted side effects are reduced.</p>
<p>Once a immutable variable is bound to a name, it cannot change. Let's have a quick look at what that means.</p>
<p><code>src/main.rs</code></p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div>
<p>The above code will not compile. We are trying to change the value of <code>x</code> from 5 to 6. The compiler will complain pretty loudly in fact.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>$ <span class="token function">cargo</span> run
   Compiling variables v0.1.0 <span class="token punctuation">(</span>file:///projects/variables<span class="token punctuation">)</span>
error<span class="token punctuation">[</span>E0384<span class="token punctuation">]</span>: cannot assign twice to immutable variable <span class="token variable"><span class="token variable">`</span>x<span class="token variable">`</span></span>
 --<span class="token operator">></span> src/main.rs:4:5
  <span class="token operator">|</span>
<span class="token number">2</span> <span class="token operator">|</span>     <span class="token builtin class-name">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token operator">|</span>         -
  <span class="token operator">|</span>         <span class="token operator">|</span>
  <span class="token operator">|</span>         first assignment to <span class="token variable"><span class="token variable">`</span>x<span class="token variable">`</span></span>
  <span class="token operator">|</span>         help: <span class="token function">make</span> this binding mutable: <span class="token variable"><span class="token variable">`</span>mut x<span class="token variable">`</span></span>
<span class="token number">3</span> <span class="token operator">|</span>     println<span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span>, x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">4</span> <span class="token operator">|</span>     x <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token operator">|</span>     ^^^^^ cannot assign twice to immutable variable

error: aborting due to previous error

For <span class="token function">more</span> information about this error, try <span class="token variable"><span class="token variable">`</span>rustc <span class="token parameter variable">--explain</span> E0384<span class="token variable">`</span></span><span class="token builtin class-name">.</span>
error: could not compile <span class="token variable"><span class="token variable">`</span>variables<span class="token variable">`</span></span><span class="token builtin class-name">.</span>

To learn more, run the <span class="token builtin class-name">command</span> again with --verbose.

</code></pre></div>
<p>This is a good thing, the compiler is nudging you to solving the issue at hand. Take note of the following message: <code>cannot assign twice to immutable variable x</code>.</p>
<p>Now we know we have two options to achieve the desired output. We can either create a new immutable variable and assign <code>6</code> to it. Or, we can make <code>x</code> mutable. If we want to make <code>x</code> mutable we can add the <code>mut</code> keyword to the variable declaration.</p>
<p><code>src/main.rs</code></p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    x <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div>
<p>We can now run the program</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>$ <span class="token function">cargo</span> run
   Compiling variables v0.1.0 <span class="token punctuation">(</span>file:///projects/variables<span class="token punctuation">)</span>
    Finished dev <span class="token punctuation">[</span>unoptimized + debuginfo<span class="token punctuation">]</span> target<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token number">0</span>.30s
     Running <span class="token variable"><span class="token variable">`</span>target/debug/variables<span class="token variable">`</span></span>
The value of x is: <span class="token number">5</span>
The value of x is: <span class="token number">6</span>
</code></pre></div>
<p>In some cases, you’ll want to make a variable mutable because it makes the code more convenient to write than if it had only immutable variables.</p>
<p>There are always going to be trade offs when choosing to make things immutable or mutable. For instance if the data structure was particularly large it may make sense to mutate in place rather than save a copy and re-allocate the data. With small data it may make sense to create new instances of the data and writing it in a more functional style, the drop in performance may a price worth paying for legibility.</p>
<h2 id="variables-vs-constants"><a href="#variables-vs-constants" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Variables vs Constants</h2>
<p>Having an immutable variable may sound like that variable is really a constant. However in rust constants cannot be marked as mutable using <code>mut</code>. They are always immutable.</p>
<p>You declare constants using the <code>const</code> keyword instead of let as you would with a variable. You also must annotate a type. They can be declared in any scope including the global scope which makes them useful for values that many parts of code need to know about.</p>
<p>The last difference is that constants may be set only to a constant expression, not the result of a function call or any other value that could only be computed at runtime.</p>
<p>Below is how you would declare a constant for <code>MAX</code> with a value set to 100,000.</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">const</span> <span class="token constant">MAX</span><span class="token punctuation">:</span> <span class="token keyword">u32</span> <span class="token operator">=</span> <span class="token number">100_000</span>
</code></pre></div>
<p>Constants stick around for the entire time a program runs within the scope in which it is declared. These values are the non-changing hardcoded values like <code>SPEED_OF_SOUND</code> or <code>HOURS_IN_DAY</code>. They let maintainers know that these values are intentionally hardcoded. It also allows these values to be changed in one place, should they need to be updated in the future.</p>
<h2 id="shadowing"><a href="#shadowing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Shadowing</h2>
<p>You can declare a new variable with the same name as a previous variable, and the new variable shadows the previous variable. The first variable is <strong>shadowed</strong> by the second. This means the second variables value is what appears when the variable is used. A quick example:</p>
<p><code>src/main.rs</code></p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> x <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is: {}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This program first binds <code>x</code> to a value of <code>5</code>. Then it shadows <code>x</code> by repeating <code>let x =</code>, taking the original value and adding <code>1</code> so the value of <code>x</code> is then <code>6</code>. The third let statement also shadows <code>x</code>, multiplying the previous value by <code>2</code> to give <code>x</code> a final value of <code>12</code>. When we run this program, it will output the following:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>$ <span class="token function">cargo</span> run
   Compiling variables v0.1.0 <span class="token punctuation">(</span>file:///projects/variables<span class="token punctuation">)</span>
    Finished dev <span class="token punctuation">[</span>unoptimized + debuginfo<span class="token punctuation">]</span> target<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token number">0</span>.31s
     Running <span class="token variable"><span class="token variable">`</span>target/debug/variables<span class="token variable">`</span></span>
The value of x is: <span class="token number">12</span>

</code></pre></div>
<p>Shadowing is different from marking a variable as <code>mut</code>. We would get a compile-time error
if we accidentally try to reassign to this variable without using the <code>let</code> keyword. Using <code>let</code> we can perform transformations on a value but have the variable be immutable after those transformations have occurred.</p>
<p>The other difference between <code>mut</code> and shadowing is that because we’re effectively creating a new variable when we use the <code>let</code> keyword again, we can change the type of the value but reuse the same name. For example, say our program asks a user to show how many spaces they want between some text by inputting space characters, but we really want to store that input as a number:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code><span class="token keyword">let</span> spaces <span class="token operator">=</span> <span class="token string">"   "</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> spaces <span class="token operator">=</span> spaces<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>This is valid as we use the keyword <code>let</code> which ensures the second <code>spaces</code> is a brand new variable. This saves us the need to come up with new names for each assignment, like <code>spaces_str</code> or <code>spaces_num</code>. Note that using <code>mut</code> will not achieve the desired outcome:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-rust"><code>    <span class="token keyword">let</span> <span class="token keyword">mut</span> spaces <span class="token operator">=</span> <span class="token string">"   "</span><span class="token punctuation">;</span>
    spaces <span class="token operator">=</span> spaces<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="nuxt-content-highlight"><pre class="line-numbers language-bash"><code>$ <span class="token function">cargo</span> run
   Compiling variables v0.1.0 <span class="token punctuation">(</span>file:///projects/variables<span class="token punctuation">)</span>
error<span class="token punctuation">[</span>E0308<span class="token punctuation">]</span>: mismatched types
 --<span class="token operator">></span> src/main.rs:3:14
  <span class="token operator">|</span>
<span class="token number">3</span> <span class="token operator">|</span>     spaces <span class="token operator">=</span> spaces.len<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">|</span>              ^^^^^^^^^^^^ expected <span class="token variable"><span class="token variable">`</span><span class="token operator">&</span>str<span class="token variable">`</span></span>, found <span class="token variable"><span class="token variable">`</span>usize<span class="token variable">`</span></span>

error: aborting due to previous error

For <span class="token function">more</span> information about this error, try <span class="token variable"><span class="token variable">`</span>rustc <span class="token parameter variable">--explain</span> E0308<span class="token variable">`</span></span><span class="token builtin class-name">.</span>
error: could not compile <span class="token variable"><span class="token variable">`</span>variables<span class="token variable">`</span></span><span class="token builtin class-name">.</span>

To learn more, run the <span class="token builtin class-name">command</span> again with --verbose.
</code></pre></div>
<p>I'll be looking at data types next</p></div></article></main> <section class="mb-5 flex flex-col sm:flex-row" data-v-64af341a data-v-e2e0216e><hr data-v-64af341a> <a href="/archive/rust-data-types" class="p-5 navbar-item" data-v-64af341a><span class="text-xl" data-v-64af341a>← data types in rust </span></a> <hr data-v-64af341a> <a href="/archive/why-rust" class="ml-auto p-5 navbar-item" data-v-64af341a><span class="text-xl" data-v-64af341a>why rust →</span></a></section></div></main> <hr> <footer class="footer"><ul class="flex justify-center"><li><a href="https://www.twitter.com/admhpr" class="social-media-item"><img src="/_nuxt/img/twitter.c2fdf95.png" alt="twitter icon" class="small_4DY8U"> <span class="social-media-label">Twitter</span></a></li><li><a href="https://www.github.com/admhpr" class="social-media-item"><img src="/_nuxt/img/github.27f8837.png" alt="github icon" class="small_4DY8U"> <span class="social-media-label">GitHub</span></a></li></ul> <div class="flex justify-center">adam harpur 2023 ©</div> <div class="flex justify-center"><a href="https://www.nuxtjs.org"><img src="/_nuxt/img/nuxt-logo.33a988a.jpg" alt="nuxt logo" class="pb-10 brand-logo"></a> <a href="https://tailwindcss.com"><img src="/_nuxt/img/tailwind-logo.a175096.png" alt="tailwind logo" class="pb-10 brand-logo"></a></div></footer></div></div></div><script defer src="/_nuxt/static/1696605233/archive/rust-variables-and-mutability/state.js"></script><script src="/_nuxt/ece46b5.js" defer></script><script src="/_nuxt/f0d6305.js" defer></script><script src="/_nuxt/50c21c5.js" defer></script><script src="/_nuxt/1fe8aec.js" defer></script><script src="/_nuxt/ad1f451.js" defer></script>
  </body>
</html>
