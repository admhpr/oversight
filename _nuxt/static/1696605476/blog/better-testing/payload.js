__NUXT_JSONP__("/blog/better-testing", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC){return {data:[{post:{slug:"better-testing",title:"better ui testing",date:"2022-02-18T06:23",desc:"patterns for better UI testing ðŸ§ª",tags:["recipes","testing"],toc:[{id:S,depth:u,text:T},{id:U,depth:u,text:V},{id:W,depth:u,text:X},{id:Y,depth:u,text:Z},{id:_,depth:u,text:$},{id:aa,depth:u,text:ab}],body:{type:"root",children:[{type:b,tag:M,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"\"You can't write good tests for bad code\""}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:v,props:{id:S},children:[{type:b,tag:o,props:{href:"#why-test",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Why bother writing so much more code? sometimes more than the code that is being tested"}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Provides confidence, no fear to change code"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Increases code quality"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You are forced to aske yourself \"What is this component really doing?\""}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Encourages modular code development"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Living documentation of the code"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:v,props:{id:U},children:[{type:b,tag:o,props:{href:"#separation-of-concerns",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:V}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Avoid mixing UI logic with business logic"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"UI components should render data, avoid adding logic to UI"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"An example..."}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"The spec:"}]},{type:a,value:e},{type:b,tag:M,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"A wiget costs $0.60. If you buy over 50, you get a 20% discount."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Imagine we had a tightly coupled piece of code that looked like this:"}]},{type:a,value:e},{type:b,tag:ac,props:{className:[ad]},children:[{type:b,tag:ae,props:{className:[af,ag]},children:[{type:b,tag:ah,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"'#widget-count'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:"\n$widgetCount"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,H,l,r]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ak,i]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:am}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:" totalCost "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ao}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:K}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:" $price "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:"if"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:"amount "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ar}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,H,l,r]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:"totalCost "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:"else"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,H,l,r]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:"totalCost"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"It is hard to tell where the UI ends and the business logic starts, let's look at a possible refactor:"}]},{type:a,value:e},{type:b,tag:ac,props:{className:[ad]},children:[{type:b,tag:ae,props:{className:[af,ag]},children:[{type:b,tag:ah,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"'#resistors-count'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:" widgetPrice "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:ao}]},{type:a,value:"\n\nfuncrion "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:ax}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:au}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"price"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aA}]},{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:" price "},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:K}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:ax}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:ar}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:"?"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:":"}]},{type:a,value:" sum\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:a,value:"\n\n$widgetCount"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,H,l,r]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ak,i]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:t}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:am}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:j}]},{type:a,value:"widgetPrice"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aA}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Now, you can see where the business logic ends and the UI begins - they are literally separated in two different functions."}]},{type:a,value:e},{type:b,tag:v,props:{id:W},children:[{type:b,tag:o,props:{href:"#know-what-to-test",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Write tests that assert your component's public interface, and treat its internals as a black box. A single test case would assert that some input (user interaction or change of props) provided to the component results in the expected output (render result or emitted custom events)."}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"The benefit of this approach is that as long as your component's public interface remains the same, your tests will pass no matter how the component's internal implementation changes over time."}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Props render relationship"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Event reactions"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Given input what is the expected output"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:v,props:{id:Y},children:[{type:b,tag:o,props:{href:"#know-what-not-to-test",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:Z}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Impletation details"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Derived data"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Frameworks and libraries"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:v,props:{id:_},children:[{type:b,tag:o,props:{href:"#when-and-how-to-mock",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:M,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Instead of treating \"realness\" as a virtue to be maximized, we should clarify what our test is trying to prove and then use all of our tools - mocks included - to ensure we have sufficient experimental control"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Avoid partial mocks, mock the entire library, don't mock parts of the library"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Don't mock out the subject"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Don't replace some - but not all of your dependencies"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:v,props:{id:aa},children:[{type:b,tag:o,props:{href:"#references",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ab}]},{type:a,value:e},{type:b,tag:A,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:o,props:{href:"https:\u002F\u002Fmadewithvuejs.com\u002Fdesign-patterns-for-vuejs",rel:[O,P,Q],target:R},children:[{type:a,value:"Design patterns for vue"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:o,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=Af4M8GMoxi4",rel:[O,P,Q],target:R},children:[{type:a,value:"Jutin Searls - Please don't mock me"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:o,props:{href:"https:\u002F\u002Fv1.test-utils.vuejs.org\u002F",rel:[O,P,Q],target:R},children:[{type:a,value:"Vue test utils"}]}]},{type:a,value:e}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002Fbetter-testing",extension:".md",createdAt:aC,updatedAt:aC}}],fetch:{},mutations:void 0}}("text","element","span","token","\n","punctuation"," ","li","operator","(",")","function","keyword","p","a","=",".","property-access","\n  ","const",3,"h3","true",-1,"icon","icon-link","ul","{","number","}","value","$","string","method","parameter","event","*","control-flow","blockquote"," amount ","nofollow","noopener","noreferrer","_blank","why-test","Why Test?","separation-of-concerns","Separation of Concerns","know-what-to-test","Know what to test","know-what-not-to-test","Know what NOT to test","when-and-how-to-mock","When and how to mock","references","References","div","nuxt-content-highlight","pre","language-js","line-numbers","code"," $widgetCount ","change","arrow","=\u003E","parseInt","target","0.6"," amount\n  ","\"#price\"","\u003E","50","\n    $price","0.8","applyDiscount","sum","return"," sum ","widgetCost",","," amount","2023-10-06T15:17:04.694Z")));