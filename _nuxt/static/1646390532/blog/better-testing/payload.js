__NUXT_JSONP__("/blog/better-testing", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw){return {data:[{post:{slug:"better-testing",title:"better ui testing",date:"2022-02-18T06:23",desc:"patterns for better UI testing ðŸ§ª",tags:["recipes","testing"],toc:[{id:O,depth:B,text:P},{id:Q,depth:B,text:R},{id:S,depth:B,text:T},{id:U,depth:B,text:V},{id:W,depth:B,text:X}],body:{type:"root",children:[{type:b,tag:M,props:{},children:[{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"\"You can't write good tests for bad code\""}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{id:O},children:[{type:b,tag:t,props:{href:"#why-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:P}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Why bother writing so much more code? sometimes more than the code that is being tested"}]},{type:a,value:f},{type:b,tag:E,props:{},children:[{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Provides confidence, no fear to change code"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Increases code quality"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"You are forced to aske yourself \"What is this component really doing?\""}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Encourages modular code development"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Living documentation of the code"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{id:Q},children:[{type:b,tag:t,props:{href:"#separation-of-concerns",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:R}]},{type:a,value:f},{type:b,tag:E,props:{},children:[{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Avoid mixing UI logic with business logic"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"UI components should render data, avoid adding logic to UI"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"An example..."}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"The spec:"}]},{type:a,value:f},{type:b,tag:M,props:{},children:[{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"A wiget costs $0.60. If you buy over 50, you get a 20% discount."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Imagine we had a tightly coupled piece of code that looked like this:"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[$,aa]},children:[{type:b,tag:ab,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"'#widget-count'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"\n$widgetCount"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,H,k,q]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae,h]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ag}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:" totalCost "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:K}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:" $price "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:"if"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"amount "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,H,k,q]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"totalCost "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:"else"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,H,k,q]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"totalCost"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"It is hard to tell where the UI ends and the business logic starts, let's look at a possible refactor:"}]},{type:a,value:f},{type:b,tag:Y,props:{className:[Z]},children:[{type:b,tag:_,props:{className:[$,aa]},children:[{type:b,tag:ab,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"'#resistors-count'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:" widgetPrice "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:ai}]},{type:a,value:"\n\nfuncrion "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:ar}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:ao}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:k}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"price"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:" price "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:K}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,m,L]},children:[{type:a,value:ar}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,z]},children:[{type:a,value:am}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"?"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:":"}]},{type:a,value:" sum\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:"\n\n$widgetCount"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,H,k,q]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae,h]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ag}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"widgetPrice"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:au}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Now, you can see where the business logic ends and the UI begins - they are literally separated in two different functions."}]},{type:a,value:f},{type:b,tag:C,props:{id:S},children:[{type:b,tag:t,props:{href:"#know-what-to-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:T}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Write tests that assert your component's public interface, and treat its internals as a black box. A single test case would assert that some input (user interaction or change of props) provided to the component results in the expected output (render result or emitted custom events)."}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"The benefit of this approach is that as long as your component's public interface remains the same, your tests will pass no matter how the component's internal implementation changes over time."}]},{type:a,value:f},{type:b,tag:E,props:{},children:[{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Props render relationship"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Event reactions"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Given input what is the expected output"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{id:U},children:[{type:b,tag:t,props:{href:"#know-what-not-to-test",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:V}]},{type:a,value:f},{type:b,tag:E,props:{},children:[{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Impletation details"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Derived data"}]},{type:a,value:f},{type:b,tag:l,props:{},children:[{type:a,value:"Frameworks and libraries"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{id:W},children:[{type:b,tag:t,props:{href:"#dont-mock-me",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:X}]},{type:a,value:f},{type:b,tag:M,props:{},children:[{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Instead of treating \"realness\" as a virtue to be maximized, we should clarify what our test is trying to prove and then use all of our tools - mocks included - to ensure we have sufficient experimental control"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:"h4",props:{id:"references"},children:[{type:b,tag:t,props:{href:"#references",ariaHidden:u,tabIndex:v},children:[{type:b,tag:c,props:{className:[w,x]},children:[]}]},{type:a,value:"References"}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:b,tag:t,props:{href:"https:\u002F\u002Fv1.test-utils.vuejs.org\u002F",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"Vue test utils"}]}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002Fbetter-testing",extension:".md",createdAt:aw,updatedAt:aw}}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n"," ","operator","(",")","function","li","keyword","p","=",".","property-access","\n  ","const","a","true",-1,"icon","icon-link","{","number","}",3,"h3","value","ul","$","string","method","parameter","event","*","control-flow","blockquote"," amount ","why-test","Why Test?","separation-of-concerns","Separation of Concerns","know-what-to-test","Know what to test","know-what-not-to-test","Know what NOT to test","dont-mock-me","Don't mock me","div","nuxt-content-highlight","pre","language-js","line-numbers","code"," $widgetCount ","change","arrow","=\u003E","parseInt","target","0.6"," amount\n  ","\"#price\"","\u003E","50","\n    $price","0.8","applyDiscount","sum","return"," sum ","widgetCost",","," amount","2022-03-04T10:40:19.854Z")));